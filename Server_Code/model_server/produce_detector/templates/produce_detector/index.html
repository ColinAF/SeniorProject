<!-- 
- Make the colors nice AF 
- Could be cool to have the weather... just for fun :)
 -->

</html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<title>Produce Monitor</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container-fluid p-5 bg-primary text-white text-center">
  <h1>Produce Monitor</h1>
  <p>Welcome! Lets take a look at what you have in your fruit bowl.</p>
</div>

<div class="container mt-5">
  <div class="row">
    <div class="col-sm-4">
      <h3>Take a look!</h3>
      <img src="media\images\{{ image_name }}.jpg" alt="Image of your Bowl", style="width: 100%; height: auto;">
    </div>
    <div class="col-sm-4">
      <h3>Inventory </h3>
      <table border="2">
        {% for x in bowl %}
        <tr>
        <td>{{ x.object_class }}</td>
        <td>{{ x.qty }}</td>
        </tr>
        {% endfor %}
        </table>
    </div>
    <div class="col-sm-4">
      <h3>Extra Info </h3>
      <p id="clock"></p>

    </div>
  </div>
</div>

</body>
</html> 

<script>
  // I hate this so much
  window.setInterval('refresh()', 1000000); 	

  function refresh() 
  {
      window.location.reload();
  }

  // I dunno why I guess I was board... 
  function currentTime() 
  {
      let date = new Date();
      let mo = date.getMonth() + 1;
      let dd = date.getDate(); 
      let yy = date.getFullYear();
      let hh = date.getHours();
      let mm = date.getMinutes();
      let session = "AM";

      if(hh == 0)
      {
          hh = 12;
      }

      if(hh > 12)
      {
          hh = hh - 12;
          session = "PM";
      }

      hh = (hh < 10) ? "0" + hh : hh;
      mm = (mm < 10) ? "0" + mm : mm;
      
      let cal = mo + "/" + dd + "/" + yy + " "; 
      let time = hh + ":" + mm +  " " + session;

      document.getElementById("clock").innerText = cal + time; 
      let t = setTimeout(function(){ currentTime() }, 1000);
  }
currentTime();


</script>